<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Machine learning by vaz73</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Machine learning</h1>
        <p></p>

        <p class="view"><a href="https://github.com/vaz73/machine_learning">View the Project on GitHub <small>vaz73/machine_learning</small></a></p>


        <ul>
          <li><a href="https://github.com/vaz73/machine_learning/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/vaz73/machine_learning/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/vaz73/machine_learning">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <hr><p>title: "Developing a machine learning algorithm to predict activity quality"
author: "Vasilis Nikolaou"
date: "Wednesday, August 20, 2014"</p>

<h2>
<a name="output-html_document" class="anchor" href="#output-html_document"><span class="octicon octicon-link"></span></a>output: html_document</h2>

<h1>
<a name="step-1" class="anchor" href="#step-1"><span class="octicon octicon-link"></span></a>Step 1</h1>

<p>First I load the training and testing data</p>

<pre lang="r,"><code>setwd("U:\\machine_learning")
training&lt;-read.csv("pml-training.csv")
testing&lt;-read.csv("pml-testing.csv")
library(caret)
</code></pre>

<h1>
<a name="step-2" class="anchor" href="#step-2"><span class="octicon octicon-link"></span></a>Step 2</h1>

<p>I select only the accellerometer, gyrometer and magnetometer readings as well as the 'classe' variable for my training dataset. I do the same for the testing data</p>

<pre lang="r,"><code>training1&lt;-with(training,data.frame(accel_belt_x,accel_belt_y,accel_belt_z,gyros_belt_x,gyros_belt_y,gyros_belt_z,magnet_belt_x,magnet_belt_y,magnet_belt_z,accel_arm_x,accel_arm_y,accel_arm_z,gyros_arm_x,gyros_arm_y,gyros_arm_z,magnet_arm_x,magnet_arm_y,magnet_arm_z,accel_dumbbell_x,accel_dumbbell_y,accel_dumbbell_z,gyros_dumbbell_x,gyros_dumbbell_y,gyros_dumbbell_z,magnet_dumbbell_x,magnet_dumbbell_y,magnet_dumbbell_z,accel_forearm_x,accel_forearm_y,accel_forearm_z,gyros_forearm_x,gyros_forearm_y,gyros_forearm_z,magnet_forearm_x,magnet_forearm_y,magnet_forearm_z,classe))
</code></pre>

<pre lang="r,echo=FALSE"><code>testing1&lt;-with(testing,data.frame(accel_belt_x,accel_belt_y,accel_belt_z,gyros_belt_x,gyros_belt_y,gyros_belt_z,magnet_belt_x,magnet_belt_y,magnet_belt_z,accel_arm_x,accel_arm_y,accel_arm_z,gyros_arm_x,gyros_arm_y,gyros_arm_z,magnet_arm_x,magnet_arm_y,magnet_arm_z,accel_dumbbell_x,accel_dumbbell_y,accel_dumbbell_z,gyros_dumbbell_x,gyros_dumbbell_y,gyros_dumbbell_z,magnet_dumbbell_x,magnet_dumbbell_y,magnet_dumbbell_z,accel_forearm_x,accel_forearm_y,accel_forearm_z,gyros_forearm_x,gyros_forearm_y,gyros_forearm_z,magnet_forearm_x,magnet_forearm_y,magnet_forearm_z))
</code></pre>

<h1>
<a name="step-3" class="anchor" href="#step-3"><span class="octicon octicon-link"></span></a>Step 3</h1>

<p>For cross-validation I use bootstrap aggregating   which results to bagging classification trees with 25 bootstrap replications. </p>

<div class="highlight highlight-r"><pre><span class="kp">set.seed</span><span class="p">(</span><span class="m">12345</span><span class="p">)</span>
modFit<span class="o">&lt;-</span>train<span class="p">(</span>training1<span class="o">$</span>classe<span class="o">~</span><span class="m">.</span><span class="p">,</span>method<span class="o">=</span><span class="s">"treebag"</span><span class="p">,</span>data<span class="o">=</span>training1<span class="p">,</span>trControl<span class="o">=</span>trainControl<span class="p">(</span>method<span class="o">=</span><span class="s">"cv"</span><span class="p">))</span>
<span class="kp">print</span><span class="p">(</span>modFit<span class="o">$</span>finalModel<span class="p">)</span>
</pre></div>

<h1>
<a name="step-4" class="anchor" href="#step-4"><span class="octicon octicon-link"></span></a>Step 4</h1>

<p>I predict future values for my training set and assess the model's accuracy from the confusion matrix. It appears from the confusion matrix that the error rate is very small (close to zero)</p>

<div class="highlight highlight-r"><pre>pred1<span class="o">&lt;-</span>predict<span class="p">(</span>modFit<span class="p">,</span>training1<span class="p">)</span>
confusionMatrix<span class="p">(</span>training1<span class="o">$</span>classe<span class="p">,</span>pred1<span class="p">)</span>
</pre></div>

<h1>
<a name="step-5" class="anchor" href="#step-5"><span class="octicon octicon-link"></span></a>Step 5</h1>

<p>I predict future values for the testing set. I would expect the error on the testing set to be bigger than that of the training set. </p>

<div class="highlight highlight-r"><pre>pred2<span class="o">&lt;-</span>predict<span class="p">(</span>modFit<span class="p">,</span>testing1<span class="p">)</span>
pred2
</pre></div>

<h1>
<a name="conclusion" class="anchor" href="#conclusion"><span class="octicon octicon-link"></span></a>Conclusion</h1>

<p>The reasons I chose bagging for my prediction model are a) it was the only easy and straightforward cross-validation method I could use (I tried to use K-fold but I couldn't figure out how) and b) I tried different models(a simple tree, a linear discriminant and a naive Bayes model)but they were not as accurate as the bagging ones. Moreover, 'bagging' results to similar bias and reduced variance which makes me feel more confident about my choise.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/vaz73">vaz73</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>